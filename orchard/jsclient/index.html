<!DOCTYPE html>
<html lang="en">

<head>
	<title>Orchard</title>

	<link rel="stylesheet" href="bootstrap/bootstrap.css">
	<link rel="stylesheet" href="css/main.css">

	<script src="js/jquery.js"></script>
	<script src="bootstrap/js/bootstrap-dropdown.js"></script>
	<script src="bootstrap/js/bootstrap-tabs.js"></script>

	<script>

	$(document).ready( function() {
		$('.topbar').dropdown();
	});

	// Tab loader
	function load_tab(id, title, url){
		$.ajax({
		  url: url,
		  success: function(contents){
			display_tab(id, title, contents);
		  }
		});
	}

	function display_tab(id, title, contents) {
		// Create tab
		$('ul.tabs-main').append('<li id="__tab_'+id+'"><a href="#'+id+'">'+title+'</a></li>');
		// Create content
		tabcontent = '<div class="tab-pane" id="'+id+'">'+contents+'</div>';
		$('.content.toplevel > .tab-content').append(tabcontent);
		// Activate tab
		select_tab(id)
	}

	function select_tab(id, title, url){
		if ($('#__tab_'+id+" a").length == 0) {
			load_tab(id, title, url);
		} else {
			$('#__tab_'+id+" a").click();
		}
	}

	prebuilt_tabs = {
		"welcome":['Welcome', '/tab/welcome.html']
	}

	function prebuilt_tab(name){
		details = prebuilt_tabs[name];
		select_tab(name, details[0], details[1])
		return false;
	}
	</script>
</head>

<body>

<div class="topbar">
  <div class="topbar-inner">
    <div class="container-fluid">
      <a class="brand" href="http://orchard.com/">Orchard</a>
      <ul class="nav">
        <li><a href="#welcome" onclick="return prebuilt_tab('welcome');">Welcome</a></li>
        <li><a href="/facelift">Home</a></li>
        <li><a href="/facelift/settings">Settings</a></li>
        <li><a href="/console">BCP Console</a></li>
      </ul>
      <ul class="nav secondary-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle">Log In</a>
          <ul class="dropdown-menu">
            <li><a href="#">No users registered</a></li>
            <li class="divider"></li>
            <li><a href="/account/form"> + New User</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="sidebar toplevel">
    <h3>People</h3>
    <h3>Documents</h3>
    <h3>Tags</h3>
    <hr/>
    Click on one of the categories above to open a dynamic tab in the editor window.
  </div>

  <ul class="tabs tabs-main" data-tabs="tabs">
    <!--<li id="__tab_welcome" class="active"><a href="#welcome">Welcome</a></li>
    <li><a href="#welcome"> + New Document</a></li>-->
  </ul>

  <div class="content toplevel">
    <div class="tab-content">
    </div>
  </div>
</div>

<script>
	prebuilt_tab('welcome');
</script>
</body>
</html>
